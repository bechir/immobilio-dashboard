<form class="form-inline mb-5" [formGroup]="filterForm" (ngSubmit)="doOnFilter()">
    <div class="d-flex flex-wrap justify-content-start w-100 mb-1">
        <div class="d-flex mb-2">
            <div class="form-group hidden">
                <div class="input-group">
                    <input name="datepicker"
                        class="form-control"
                        ngbDatepicker
                        #datepicker="ngbDatepicker"
                        [autoClose]="'outside'"
                        (dateSelect)="onDateSelection($event)"
                        [displayMonths]="2"
                        [dayTemplate]="t"
                        outsideDays="hidden"
                        [startDate]="fromDate!">
                    <ng-template #t let-date let-focused="focused">
                    <span class="custom-day"
                            [class.focused]="focused"
                            [class.range]="isRange(date)"
                            [class.faded]="isHovered(date) || isInside(date)"
                            (mouseenter)="hoveredDate = date"
                            (mouseleave)="hoveredDate = null">
                        {{ date.day }}
                    </span>
                    </ng-template>
                </div>
            </div>
            <div class="form-group">
                <div class="input-group">
                    <input #dpFromDate
                        class="form-control form-control-sm ka-form-control-solid" placeholder="jj-mm-aaaa"
                        name="dpFromDate"
                        [value]="formatter.format(fromDate) | dateFormatFR"
                        (input)="fromDate = validateInput(fromDate, dpFromDate.value)">
                    <div class="input-group-append">
                    <button class="btn btn-sm calendar input-group-text border-0" (click)="datepicker.toggle()" type="button">
                        <i class="fa fa-calendar-alt text-muted"></i>
                    </button>
                    </div>
                </div>
            </div>
            <div class="form-group ml-2">
                <div class="input-group">
                    <input #dpToDate
                        class="form-control form-control-sm ka-form-control-solid" placeholder="jj-mm-aaaa"
                        name="dpToDate"
                        [value]="formatter.format(toDate) | dateFormatFR"
                        (input)="toDate = validateInput(toDate, dpToDate.value)">
                    <div class="input-group-append">
                    <button class="btn btn-sm calendar input-group-text border-0" (click)="datepicker.toggle()" type="button">
                        <i class="fa fa-calendar-alt text-muted"></i>
                    </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="ml-lg-3">
            <ng-multiselect-dropdown
                [placeholder]="'Tous les clients'"
                [data]="clients"
                formControlName="clients"
                [settings]="dropdownSettings"
                (onSelect)="onItemSelect($event)"
                (onSelectAll)="onSelectAll($event)"
            >
            </ng-multiselect-dropdown>
        </div>
        <div class="ml-md-3">
            <div class="form-group">
                <ng-multiselect-dropdown
                    [placeholder]="'Status'"
                    [data]="status"
                    formControlName="status"
                    [settings]="dropdownSettings"
                    (onSelect)="onItemSelect($event)"
                    (onSelectAll)="onSelectAll($event)"
                >
                </ng-multiselect-dropdown>
            </div>
        </div>
    </div>
    <button type="submit" class="btn btn-primary-2 btn-sm">
        <i class="fa fa-filter"></i>
        Filtrer
    </button>
</form>
